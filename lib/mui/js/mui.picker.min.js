(function(a,o,f,l){var h=30;var n=90;var d=40;var c=10;var k=a.rad2deg=function(p){return p/(Math.PI/180)};var e=a.deg2rad=function(p){return p*(Math.PI/180)};var j=navigator.platform.toLowerCase();var m=navigator.userAgent.toLowerCase();var g=(m.indexOf("iphone")>-1||m.indexOf("ipad")>-1||m.indexOf("ipod")>-1)&&(j.indexOf("iphone")>-1||j.indexOf("ipad")>-1||j.indexOf("ipod")>-1);var i=a.Picker=function(p,q){var r=this;r.holder=p;r.options=q||{};r.init();r.initInertiaParams();r.calcElementItemPostion(true);r.bindEvent()};i.prototype.findElementItems=function(){var p=this;p.elementItems=[].slice.call(p.holder.querySelectorAll("li"));return p.elementItems};i.prototype.init=function(){var p=this;p.list=p.holder.querySelector("ul");p.findElementItems();p.height=p.holder.offsetHeight;p.r=p.height/2-c;p.d=p.r*2;p.itemHeight=p.elementItems.length>0?p.elementItems[0].offsetHeight:d;p.itemAngle=parseInt(p.calcAngle(p.itemHeight*0.8));p.hightlightRange=p.itemAngle/2;p.visibleRange=n;p.beginAngle=0;p.beginExceed=p.beginAngle-h;p.list.angle=p.beginAngle;if(g){p.list.style.webkitTransformOrigin="center center "+p.r+"px"}};i.prototype.calcElementItemPostion=function(p){var q=this;if(p){q.items=[]}q.elementItems.forEach(function(t){var s=q.elementItems.indexOf(t);q.endAngle=q.itemAngle*s;t.angle=q.endAngle;t.style.webkitTransformOrigin="center center -"+q.r+"px";t.style.webkitTransform="translateZ("+q.r+"px) rotateX("+(-q.endAngle)+"deg)";if(p){var r={};r.text=t.innerHTML||"";r.value=t.getAttribute("data-value")||r.text;q.items.push(r)}});q.endExceed=q.endAngle+h;q.calcElementItemVisibility(q.beginAngle)};i.prototype.calcAngle=function(r){var u=this;var p=b=parseFloat(u.r);r=Math.abs(r);var t=parseInt(r/u.d)*180;r=r%u.d;var s=(p*p+b*b-r*r)/(2*p*b);var q=t+k(Math.acos(s));return q};i.prototype.calcElementItemVisibility=function(p){var q=this;q.elementItems.forEach(function(s){var r=Math.abs(s.angle-p);if(r<q.hightlightRange){s.classList.add("highlight")}else{if(r<q.visibleRange){s.classList.add("visible");s.classList.remove("highlight")}else{s.classList.remove("highlight");s.classList.remove("visible")}}})};i.prototype.setAngle=function(p){var q=this;q.list.angle=p;q.list.style.webkitTransform="perspective(1000px) rotateY(0deg) rotateX("+p+"deg)";q.calcElementItemVisibility(p)};i.prototype.bindEvent=function(){var q=this;var p=0;var r=null;q.holder.addEventListener("touchstart",function(s){s.preventDefault();q.list.style.webkitTransition="";r=(s.changedTouches?s.changedTouches[0]:s).pageY;p=q.list.angle;q.updateInertiaParams(s,true)},false);q.holder.addEventListener("touchend",function(s){s.preventDefault();q.startInertiaScroll(s)},false);q.holder.addEventListener("touchcancel",function(s){s.preventDefault();q.startInertiaScroll(s)},false);q.holder.addEventListener("touchmove",function(v){v.preventDefault();var u=(v.changedTouches?v.changedTouches[0]:v).pageY;var t=u-r;var s=q.calcAngle(t);var w=t>0?p-s:p+s;if(w>q.endExceed){w=q.endExceed}if(w<q.beginExceed){w=q.beginExceed}q.setAngle(w);q.updateInertiaParams(v)},false);q.list.addEventListener("tap",function(s){elementItem=s.target;if(elementItem.tagName=="LI"){q.setSelectedIndex(q.elementItems.indexOf(elementItem),200)}},false)};i.prototype.initInertiaParams=function(){var p=this;p.lastMoveTime=0;p.lastMoveStart=0;p.stopInertiaMove=false};i.prototype.updateInertiaParams=function(p,q){var t=this;var s=p.changedTouches?p.changedTouches[0]:p;if(q){t.lastMoveStart=s.pageY;t.lastMoveTime=p.timeStamp||Date.now();t.startAngle=t.list.angle}else{var r=p.timeStamp||Date.now();if(r-t.lastMoveTime>300){t.lastMoveTime=r;t.lastMoveStart=s.pageY}}t.stopInertiaMove=true};i.prototype.startInertiaScroll=function(u){var y=this;var x=u.changedTouches?u.changedTouches[0]:u;var w=u.timeStamp||Date.now();var B=(x.pageY-y.lastMoveStart)/(w-y.lastMoveTime);var q=B>0?-1:1;var p=q*0.0006*-1;var t=Math.abs(B/p);var r=B*t/2;var A=y.list.angle;var s=y.calcAngle(r)*q;var z=s;if(A+s<y.beginExceed){s=y.beginExceed-A;t=t*(s/z)*0.6}if(A+s>y.endExceed){s=y.endExceed-A;t=t*(s/z)*0.6}if(s==0){y.endScroll();return}y.scrollDistAngle(w,A,s,t)};i.prototype.scrollDistAngle=function(r,t,p,q){var s=this;s.stopInertiaMove=false;(function(y,z,u,v){var w=13;var A=v/w;var B=0;(function x(){if(s.stopInertiaMove){return}var C=s.quartEaseOut(B,z,u,A);s.setAngle(C);B++;if(B>A-1||C<s.beginExceed||C>s.endExceed){s.endScroll();return}setTimeout(x,w)})()})(r,t,p,q)};i.prototype.quartEaseOut=function(s,p,q,r){return -q*((s=s/r-1)*s*s*s-1)+p};i.prototype.endScroll=function(){var q=this;if(q.list.angle<q.beginAngle){q.list.style.webkitTransition="150ms ease-out";q.setAngle(q.beginAngle)}else{if(q.list.angle>q.endAngle){q.list.style.webkitTransition="150ms ease-out";q.setAngle(q.endAngle)}else{var p=parseInt((q.list.angle/q.itemAngle).toFixed(0));q.list.style.webkitTransition="100ms ease-out";q.setAngle(q.itemAngle*p)}}q.triggerChange()};i.prototype.triggerChange=function(p){var q=this;setTimeout(function(){var r=q.getSelectedIndex();var s=q.items[r];if(a.trigger&&(r!=q.lastIndex||p)){a.trigger(q.holder,"change",{index:r,item:s})}q.lastIndex=r},0)};i.prototype.correctAngle=function(p){var q=this;if(p<q.beginAngle){return q.beginAngle}else{if(p>q.endAngle){return q.endAngle}else{return p}}};i.prototype.setItems=function(q){var r=this;r.items=q||[];var p=[];r.items.forEach(function(s){if(s!==null&&s!==l){p.push("<li>"+(s.text||s)+"</li>")}});r.list.innerHTML=p.join("");r.findElementItems();r.calcElementItemPostion();r.setAngle(r.correctAngle(r.list.angle));r.triggerChange(true)};i.prototype.getItems=function(){var p=this;return p.items};i.prototype.getSelectedIndex=function(){var p=this;return parseInt((p.list.angle/p.itemAngle).toFixed(0))};i.prototype.setSelectedIndex=function(s,r){var t=this;t.list.style.webkitTransition="";var p=t.correctAngle(t.itemAngle*s);if(r&&r>0){var q=p-t.list.angle;t.scrollDistAngle(Date.now(),t.list.angle,q,r)}else{t.setAngle(p)}t.triggerChange()};i.prototype.getSelectedItem=function(){var p=this;return p.items[p.getSelectedIndex()]};i.prototype.getSelectedValue=function(){var p=this;return(p.items[p.getSelectedIndex()]||{}).value};i.prototype.getSelectedText=function(){var p=this;return(p.items[p.getSelectedIndex()]||{}).text};i.prototype.setSelectedValue=function(t,p){var s=this;for(var q in s.items){var r=s.items[q];if(r.value==t){s.setSelectedIndex(q,p);return}}};if(a.fn){a.fn.picker=function(p){this.each(function(s,r){if(r.picker){return}if(p){r.picker=new i(r,p)}else{var t=r.getAttribute("data-picker-options");var q=t?JSON.parse(t):{};r.picker=new i(r,q)}});return this[0]?this[0].picker:null};a.ready(function(){a(".mui-picker").picker()})}})(window.mui||window,window,document,undefined);