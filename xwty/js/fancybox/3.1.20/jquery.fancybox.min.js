(function(n,g,a,m){if(!a){return}if(a.fn.fancybox){a.error("fancyBox already initialized");return}var f={loop:false,margin:[44,0],gutter:50,keyboard:true,arrows:true,infobar:false,toolbar:true,buttons:["slideShow","fullScreen","thumbs","close"],idleTime:4,smallBtn:"auto",protect:false,modal:false,image:{preload:"auto",},ajax:{settings:{data:{fancybox:true}}},iframe:{tpl:'<iframe id="fancybox-frame{rnd}" name="fancybox-frame{rnd}" class="fancybox-iframe" frameborder="0" vspace="0" hspace="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen allowtransparency="true" src=""></iframe>',preload:true,css:{},attr:{scrolling:"auto"}},animationEffect:"zoom",animationDuration:366,zoomOpacity:"auto",transitionEffect:"fade",transitionDuration:366,slideClass:"",baseClass:"",baseTpl:'<div class="fancybox-container" role="dialog" tabindex="-1"><div class="fancybox-bg"></div><div class="fancybox-inner"><div class="fancybox-infobar"><button data-fancybox-prev title="{{PREV}}" class="fancybox-button fancybox-button--left"></button><div class="fancybox-infobar__body"><span data-fancybox-index></span>&nbsp;/&nbsp;<span data-fancybox-count></span></div><button data-fancybox-next title="{{NEXT}}" class="fancybox-button fancybox-button--right"></button></div><div class="fancybox-toolbar">{{BUTTONS}}</div><div class="fancybox-navigation"><button data-fancybox-prev title="{{PREV}}" class="fancybox-arrow fancybox-arrow--left" /><button data-fancybox-next title="{{NEXT}}" class="fancybox-arrow fancybox-arrow--right" /></div><div class="fancybox-stage"></div><div class="fancybox-caption-wrap"><div class="fancybox-caption"></div></div></div></div>',spinnerTpl:'<div class="fancybox-loading"></div>',errorTpl:'<div class="fancybox-error"><p>{{ERROR}}<p></div>',btnTpl:{slideShow:'<button data-fancybox-play class="fancybox-button fancybox-button--play" title="{{PLAY_START}}"></button>',fullScreen:'<button data-fancybox-fullscreen class="fancybox-button fancybox-button--fullscreen" title="{{FULL_SCREEN}}"></button>',thumbs:'<button data-fancybox-thumbs class="fancybox-button fancybox-button--thumbs" title="{{THUMBS}}"></button>',close:'<button data-fancybox-close class="fancybox-button fancybox-button--close" title="{{CLOSE}}"></button>',smallBtn:'<button data-fancybox-close class="fancybox-close-small" title="{{CLOSE}}"></button>'},parentEl:"body",autoFocus:true,backFocus:true,trapFocus:true,fullScreen:{autoStart:false,},touch:{vertical:true,momentum:true},hash:null,media:{},slideShow:{autoStart:false,speed:4000},thumbs:{autoStart:false,hideOnClose:true},onInit:a.noop,beforeLoad:a.noop,afterLoad:a.noop,beforeShow:a.noop,afterShow:a.noop,beforeClose:a.noop,afterClose:a.noop,onActivate:a.noop,onDeactivate:a.noop,clickContent:function(o,p){return o.type==="image"?"zoom":false},clickSlide:"close",clickOutside:"close",dblclickContent:false,dblclickSlide:false,dblclickOutside:false,mobile:{clickContent:function(o,p){return o.type==="image"?"toggleControls":false},clickSlide:function(o,p){return o.type==="image"?"toggleControls":"close"},dblclickContent:function(o,p){return o.type==="image"?"zoom":false},dblclickSlide:function(o,p){return o.type==="image"?"zoom":false}},lang:"en",i18n:{en:{CLOSE:"Close",NEXT:"Next",PREV:"Previous",ERROR:"The requested content cannot be loaded. <br/> Please try again later.",PLAY_START:"Start slideshow",PLAY_STOP:"Pause slideshow",FULL_SCREEN:"Full screen",THUMBS:"Thumbnails"},de:{CLOSE:"Schliessen",NEXT:"Weiter",PREV:"Zurück",ERROR:"Die angeforderten Daten konnten nicht geladen werden. <br/> Bitte versuchen Sie es später nochmal.",PLAY_START:"Diaschau starten",PLAY_STOP:"Diaschau beenden",FULL_SCREEN:"Vollbild",THUMBS:"Vorschaubilder"}}};var c=a(n);var b=a(g);var e=0;var j=function(o){return o&&o.hasOwnProperty&&o instanceof a};var k=(function(){return n.requestAnimationFrame||n.webkitRequestAnimationFrame||n.mozRequestAnimationFrame||n.oRequestAnimationFrame||function(o){return n.setTimeout(o,1000/60)}})();var l=(function(){var p,o=g.createElement("fakeelement");var q={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(p in q){if(o.style[p]!==m){return q[p]}}})();var i=function(o){return(o&&o.length&&o[0].offsetHeight)};var h=function(o,q,p){var r=this;r.opts=a.extend(true,{index:p},f,q||{});if(q&&a.isArray(q.buttons)){r.opts.buttons=q.buttons}r.id=r.opts.id||++e;r.group=[];r.currIndex=parseInt(r.opts.index,10)||0;r.prevIndex=null;r.prevPos=null;r.currPos=0;r.firstRun=null;r.createGroup(o);if(!r.group.length){return}r.$lastFocus=a(g.activeElement).blur();r.slides={};r.init(o)};a.extend(h.prototype,{init:function(){var r=this;var s,o,p;var q=r.group[r.currIndex].opts;r.scrollTop=b.scrollTop();r.scrollLeft=b.scrollLeft();if(!a.fancybox.getInstance()&&!a.fancybox.isMobile&&a("body").css("overflow")!=="hidden"){s=a("body").width();a("html").addClass("fancybox-enabled");s=a("body").width()-s;if(s>1){a("head").append('<style id="fancybox-style-noscroll" type="text/css">.compensate-for-scrollbar, .fancybox-enabled body { margin-right: '+s+"px; }</style>")}}p="";a.each(q.buttons,function(t,u){p+=(q.btnTpl[u]||"")});o=a(r.translate(r,q.baseTpl.replace("{{BUTTONS}}",p))).addClass("fancybox-is-hidden").attr("id","fancybox-container-"+r.id).addClass(q.baseClass).data("FancyBox",r).prependTo(q.parentEl);r.$refs={container:o};["bg","inner","infobar","toolbar","stage","caption"].forEach(function(t){r.$refs[t]=o.find(".fancybox-"+t)});if(!q.arrows||r.group.length<2){o.find(".fancybox-navigation").remove()}if(!q.infobar){r.$refs.infobar.remove()}if(!q.toolbar){r.$refs.toolbar.remove()}r.trigger("onInit");r.activate();r.jumpTo(r.currIndex)},translate:function(p,q){var o=p.opts.i18n[p.opts.lang];return q.replace(/\{\{(\w+)\}\}/g,function(r,s){var t=o[s];if(t===m){return r}return t})},createGroup:function(o){var q=this;var p=a.makeArray(o);a.each(p,function(t,u){var v={},w={},s=[],r,z,x,y;if(a.isPlainObject(u)){v=u;w=u.opts||u}else{if(a.type(u)==="object"&&a(u).length){r=a(u);s=r.data();w="options" in s?s.options:{};w=a.type(w)==="object"?w:{};v.src="src" in s?s.src:(w.src||r.attr("href"));["width","height","thumb","type","filter"].forEach(function(A){if(A in s){w[A]=s[A]}});if("srcset" in s){w.image={srcset:s.srcset}}w.$orig=r;if(!v.type&&!v.src){v.type="inline";v.src=u}}else{v={type:"html",src:u+""}}}v.opts=a.extend(true,{},q.opts,w);if(a.fancybox.isMobile){v.opts=a.extend(true,{},v.opts,v.opts.mobile)}z=v.type||v.opts.type;x=v.src||"";if(!z&&x){if(x.match(/(^data:image\/[a-z0-9+\/=]*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg|ico)((\?|#).*)?$)/i)){z="image"}else{if(x.match(/\.(pdf)((\?|#).*)?$/i)){z="pdf"}else{if(x.charAt(0)==="#"){z="inline"}}}}v.type=z;v.index=q.group.length;if(v.opts.$orig&&!v.opts.$orig.length){delete v.opts.$orig}if(!v.opts.$thumb&&v.opts.$orig){v.opts.$thumb=v.opts.$orig.find("img:first")}if(v.opts.$thumb&&!v.opts.$thumb.length){delete v.opts.$thumb}if(a.type(v.opts.caption)==="function"){v.opts.caption=v.opts.caption.apply(u,[q,v])}else{if("caption" in s){v.opts.caption=s.caption}}v.opts.caption=v.opts.caption===m?"":v.opts.caption+"";if(z==="ajax"){y=x.split(/\s+/,2);if(y.length>1){v.src=y.shift();v.opts.filter=y.shift()}}if(v.opts.smallBtn=="auto"){if(a.inArray(z,["html","inline","ajax"])>-1){v.opts.toolbar=false;v.opts.smallBtn=true}else{v.opts.smallBtn=false}}if(z==="pdf"){v.type="iframe";v.opts.iframe.preload=false}if(v.opts.modal){v.opts=a.extend(true,v.opts,{infobar:0,toolbar:0,smallBtn:0,keyboard:0,slideShow:0,fullScreen:0,thumbs:0,touch:0,clickContent:false,clickSlide:false,clickOutside:false,dblclickContent:false,dblclickSlide:false,dblclickOutside:false})}q.group.push(v)})},addEvents:function(){var o=this;o.removeEvents();o.$refs.container.on("click.fb-close","[data-fancybox-close]",function(p){p.stopPropagation();p.preventDefault();o.close(p)}).on("click.fb-prev touchend.fb-prev","[data-fancybox-prev]",function(p){p.stopPropagation();p.preventDefault();o.previous()}).on("click.fb-next touchend.fb-next","[data-fancybox-next]",function(p){p.stopPropagation();p.preventDefault();o.next()});c.on("orientationchange.fb resize.fb",function(p){if(p&&p.originalEvent&&p.originalEvent.type==="resize"){k(function(){o.update()})}else{o.$refs.stage.hide();setTimeout(function(){o.$refs.stage.show();o.update()},500)}});b.on("focusin.fb",function(p){var q=a.fancybox?a.fancybox.getInstance():null;if(q.isClosing||!q.current||!q.current.opts.trapFocus||a(p.target).hasClass("fancybox-container")||a(p.target).is(g)){return}if(q&&a(p.target).css("position")!=="fixed"&&!q.$refs.container.has(p.target).length){p.stopPropagation();q.focus();c.scrollTop(o.scrollTop).scrollLeft(o.scrollLeft)}});b.on("keydown.fb",function(q){var p=o.current,r=q.keyCode||q.which;if(!p||!p.opts.keyboard){return}if(a(q.target).is("input")||a(q.target).is("textarea")){return}if(r===8||r===27){q.preventDefault();o.close(q);return}if(r===37||r===38){q.preventDefault();o.previous();return}if(r===39||r===40){q.preventDefault();o.next();return}o.trigger("afterKeydown",q,r)});if(o.group[o.currIndex].opts.idleTime){o.idleSecondsCounter=0;b.on("mousemove.fb-idle mouseenter.fb-idle mouseleave.fb-idle mousedown.fb-idle touchstart.fb-idle touchmove.fb-idle scroll.fb-idle keydown.fb-idle",function(){o.idleSecondsCounter=0;if(o.isIdle){o.showControls()}o.isIdle=false});o.idleInterval=n.setInterval(function(){o.idleSecondsCounter++;if(o.idleSecondsCounter>=o.group[o.currIndex].opts.idleTime){o.isIdle=true;o.idleSecondsCounter=0;o.hideControls()}},1000)}},removeEvents:function(){var o=this;c.off("orientationchange.fb resize.fb");b.off("focusin.fb keydown.fb .fb-idle");this.$refs.container.off(".fb-close .fb-prev .fb-next");if(o.idleInterval){n.clearInterval(o.idleInterval);o.idleInterval=null}},previous:function(o){return this.jumpTo(this.currPos-1,o)},next:function(o){return this.jumpTo(this.currPos+1,o)},jumpTo:function(v,r,y){var x=this,s,u,p,w,o,q,z;var t=x.group.length;if(x.isSliding||x.isClosing||(x.isAnimating&&x.firstRun)){return}v=parseInt(v,10);u=x.current?x.current.opts.loop:x.opts.loop;if(!u&&(v<0||v>=t)){return false}s=x.firstRun=(x.firstRun===null);if(t<2&&!s&&!!x.isSliding){return}w=x.current;x.prevIndex=x.currIndex;x.prevPos=x.currPos;p=x.createSlide(v);if(t>1){if(u||p.index>0){x.createSlide(v-1)}if(u||p.index<t-1){x.createSlide(v+1)}}x.current=p;x.currIndex=p.index;x.currPos=p.pos;x.trigger("beforeShow",s);x.updateControls();q=a.fancybox.getTranslate(p.$slide);p.isMoved=(q.left!==0||q.top!==0)&&!p.$slide.hasClass("fancybox-animated");p.forcedDuration=m;if(a.isNumeric(r)){p.forcedDuration=r}else{r=p.opts[s?"animationDuration":"transitionDuration"]}r=parseInt(r,10);if(s){if(p.opts.animationEffect&&r){x.$refs.container.css("transition-duration",r+"ms")}x.$refs.container.removeClass("fancybox-is-hidden");i(x.$refs.container);x.$refs.container.addClass("fancybox-is-open");p.$slide.addClass("fancybox-slide--current");x.loadSlide(p);x.preload();return}a.each(x.slides,function(A,B){a.fancybox.stop(B.$slide)});p.$slide.removeClass("fancybox-slide--next fancybox-slide--previous").addClass("fancybox-slide--current");if(p.isMoved){o=Math.round(p.$slide.width());a.each(x.slides,function(A,C){var B=C.pos-p.pos;a.fancybox.animate(C.$slide,{top:0,left:(B*o)+(B*C.opts.gutter)},r,function(){C.$slide.removeAttr("style").removeClass("fancybox-slide--next fancybox-slide--previous");if(C.pos===x.currPos){p.isMoved=false;x.complete()}})})}else{x.$refs.stage.children().removeAttr("style")}if(p.isLoaded){x.revealContent(p)}else{x.loadSlide(p)}x.preload();if(w.pos===p.pos){return}z="fancybox-slide--"+(w.pos>p.pos?"next":"previous");w.$slide.removeClass("fancybox-slide--complete fancybox-slide--current fancybox-slide--next fancybox-slide--previous");w.isComplete=false;if(!r||(!p.isMoved&&!p.opts.transitionEffect)){return}if(p.isMoved){w.$slide.addClass(z)}else{z="fancybox-animated "+z+" fancybox-fx-"+p.opts.transitionEffect;a.fancybox.animate(w.$slide,z,r,function(){w.$slide.removeClass(z).removeAttr("style")})}},createSlide:function(q){var r=this;var o;var p;p=q%r.group.length;p=p<0?r.group.length+p:p;if(!r.slides[q]&&r.group[p]){o=a('<div class="fancybox-slide"></div>').appendTo(r.$refs.stage);r.slides[q]=a.extend(true,{},r.group[p],{pos:q,$slide:o,isLoaded:false,});r.updateSlide(r.slides[q])}return r.slides[q]},scaleToActual:function(D,E,s){var C=this;var r=C.current;var o=r.$content;var t,w,z,A,B;var q=parseInt(r.$slide.width(),10);var p=parseInt(r.$slide.height(),10);var v=r.width;var u=r.height;if(!(r.type=="image"&&!r.hasError)||!o||C.isAnimating){return}a.fancybox.stop(o);C.isAnimating=true;D=D===m?q*0.5:D;E=E===m?p*0.5:E;t=a.fancybox.getTranslate(o);A=v/t.width;B=u/t.height;w=(q*0.5-v*0.5);z=(p*0.5-u*0.5);if(v>q){w=t.left*A-((D*A)-D);if(w>0){w=0}if(w<q-v){w=q-v}}if(u>p){z=t.top*B-((E*B)-E);if(z>0){z=0}if(z<p-u){z=p-u}}C.updateCursor(v,u);a.fancybox.animate(o,{top:z,left:w,scaleX:A,scaleY:B},s||330,function(){C.isAnimating=false});if(C.SlideShow&&C.SlideShow.isActive){C.SlideShow.stop()}},scaleToFit:function(q){var s=this;var p=s.current;var o=p.$content;var r;if(!(p.type=="image"&&!p.hasError)||!o||s.isAnimating){return}a.fancybox.stop(o);s.isAnimating=true;r=s.getFitPos(p);s.updateCursor(r.width,r.height);a.fancybox.animate(o,{top:r.top,left:r.left,scaleX:r.width/o.width(),scaleY:r.height/o.height()},q||330,function(){s.isAnimating=false})},getFitPos:function(x){var w=this;var o=x.$content;var t=x.width;var s=x.height;var u=x.opts.margin;var q,p,v,y,r;if(!o||!o.length||(!t&&!s)){return false}if(a.type(u)==="number"){u=[u,u]}if(u.length==2){u=[u[0],u[1],u[0],u[1]]}if(c.width()<800){u=[0,0,0,0]}q=parseInt(w.$refs.stage.width(),10)-(u[1]+u[3]);p=parseInt(w.$refs.stage.height(),10)-(u[0]+u[2]);v=Math.min(1,q/t,p/s);y=Math.floor(v*t);r=Math.floor(v*s);return{top:Math.floor((p-r)*0.5)+u[0],left:Math.floor((q-y)*0.5)+u[3],width:y,height:r}},update:function(){var o=this;a.each(o.slides,function(p,q){o.updateSlide(q)})},updateSlide:function(q){var p=this;var o=q.$content;if(o&&(q.width||q.height)){a.fancybox.stop(o);a.fancybox.setTranslate(o,p.getFitPos(q));if(q.pos===p.currPos){p.updateCursor()}}q.$slide.trigger("refresh");p.trigger("onUpdate",q)},updateCursor:function(r,q){var s=this;var p;var o=s.$refs.container.removeClass("fancybox-is-zoomable fancybox-can-zoomIn fancybox-can-drag fancybox-can-zoomOut");if(!s.current||s.isClosing){return}if(s.isZoomable()){o.addClass("fancybox-is-zoomable");if(r!==m&&q!==m){p=r<s.current.width&&q<s.current.height}else{p=s.isScaledDown()}if(p){o.addClass("fancybox-can-zoomIn")}else{if(s.current.opts.touch){o.addClass("fancybox-can-drag")}else{o.addClass("fancybox-can-zoomOut")}}}else{if(s.current.opts.touch){o.addClass("fancybox-can-drag")}}},isZoomable:function(){var q=this;var o=q.current;var p;if(!o||q.isClosing){return}if(o.type==="image"&&o.isLoaded&&!o.hasError&&(o.opts.clickContent==="zoom"||(a.isFunction(o.opts.clickContent)&&o.opts.clickContent(o)==="zoom"))){p=q.getFitPos(o);if(o.width>p.width||o.height>p.height){return true}}return false},isScaledDown:function(){var r=this;var p=r.current;var o=p.$content;var q=false;if(o){q=a.fancybox.getTranslate(o);q=q.width<p.width||q.height<p.height}return q},canPan:function(){var r=this;var p=r.current;var o=p.$content;var q=false;if(o){q=r.getFitPos(p);q=Math.abs(o.width()-q.width)>1||Math.abs(o.height()-q.height)>1}return q},loadSlide:function(r){var q=this,s,o;var p;if(r.isLoading){return}if(r.isLoaded){return}r.isLoading=true;q.trigger("beforeLoad",r);s=r.type;o=r.$slide;o.off("refresh").trigger("onReset").addClass("fancybox-slide--"+(s||"unknown")).addClass(r.opts.slideClass);switch(s){case"image":q.setImage(r);break;case"iframe":q.setIframe(r);break;case"html":q.setContent(r,r.src||r.content);break;case"inline":if(a(r.src).length){q.setContent(r,a(r.src))}else{q.setError(r)}break;case"ajax":q.showLoading(r);p=a.ajax(a.extend({},r.opts.ajax.settings,{url:r.src,success:function(t,u){if(u==="success"){q.setContent(r,t)}},error:function(t,u){if(t&&u!=="abort"){q.setError(r)}}}));o.one("onReset",function(){p.abort()});break;default:q.setError(r);break}return true},setImage:function(t){var s=this;var u=t.opts.image.srcset;var p,v,r,w;if(u){r=n.devicePixelRatio||1;w=n.innerWidth*r;v=u.split(",").map(function(x){var y={};x.trim().split(/\s+/).forEach(function(z,A){var B=parseInt(z.substring(0,z.length-1),10);if(A===0){return(y.url=z)}if(B){y.value=B;y.postfix=z[z.length-1]}});return y});v.sort(function(x,y){return x.value-y.value});for(var q=0;q<v.length;q++){var o=v[q];if((o.postfix==="w"&&o.value>=w)||(o.postfix==="x"&&o.value>=r)){p=o;break}}if(!p&&v.length){p=v[v.length-1]}if(p){t.src=p.url;if(t.width&&t.height&&p.postfix=="w"){t.height=(t.width/t.height)*p.value;t.width=p.value}}}t.$content=a('<div class="fancybox-image-wrap"></div>').addClass("fancybox-is-hidden").appendTo(t.$slide);if(t.opts.preload!==false&&t.opts.width&&t.opts.height&&(t.opts.thumb||t.opts.$thumb)){t.width=t.opts.width;t.height=t.opts.height;t.$ghost=a("<img />").one("error",function(){a(this).remove();t.$ghost=null;s.setBigImage(t)}).one("load",function(){s.afterLoad(t);s.setBigImage(t)}).addClass("fancybox-image").appendTo(t.$content).attr("src",t.opts.thumb||t.opts.$thumb.attr("src"))}else{s.setBigImage(t)}},setBigImage:function(q){var p=this;var o=a("<img />");q.$image=o.one("error",function(){p.setError(q)}).one("load",function(){clearTimeout(q.timouts);q.timouts=null;if(p.isClosing){return}q.width=this.naturalWidth;q.height=this.naturalHeight;if(q.opts.image.srcset){o.attr("sizes","100vw").attr("srcset",q.opts.image.srcset)}p.hideLoading(q);if(q.$ghost){q.timouts=setTimeout(function(){q.timouts=null;q.$ghost.hide()},Math.min(300,Math.max(1000,q.height/1600)))}else{p.afterLoad(q)}}).addClass("fancybox-image").attr("src",q.src).appendTo(q.$content);if(o[0].complete){o.trigger("load")}else{if(o[0].error){o.trigger("error")}else{q.timouts=setTimeout(function(){if(!o[0].complete&&!q.hasError){p.showLoading(q)}},100)}}},setIframe:function(s){var r=this,q=s.opts.iframe,p=s.$slide,o;s.$content=a('<div class="fancybox-content'+(q.preload?" fancybox-is-hidden":"")+'"></div>').css(q.css).appendTo(p);o=a(q.tpl.replace(/\{rnd\}/g,new Date().getTime())).attr(q.attr).appendTo(s.$content);if(q.preload){r.showLoading(s);o.on("load.fb error.fb",function(t){this.isReady=1;s.$slide.trigger("refresh");r.afterLoad(s)});p.on("refresh.fb",function(){var v=s.$content,u,t,z,x,w;if(o[0].isReady!==1){return}try{u=o.contents();t=u.find("body")}catch(y){}if(t&&t.length&&!(q.css.width!==m&&q.css.height!==m)){z=o[0].contentWindow.document.documentElement.scrollWidth;x=Math.ceil(t.outerWidth(true)+(v.width()-z));w=Math.ceil(t.outerHeight(true));v.css({width:q.css.width===m?x+(v.outerWidth()-v.innerWidth()):q.css.width,height:q.css.height===m?w+(v.outerHeight()-v.innerHeight()):q.css.height})}v.removeClass("fancybox-is-hidden")})}else{this.afterLoad(s)}o.attr("src",s.src);if(s.opts.smallBtn===true){s.$content.prepend(r.translate(s,s.opts.btnTpl.smallBtn))}p.one("onReset",function(){try{a(this).find("iframe").hide().attr("src","//about:blank")}catch(t){}a(this).empty();s.isLoaded=false})},setContent:function(q,o){var p=this;if(p.isClosing){return}p.hideLoading(q);q.$slide.empty();if(j(o)&&o.parent().length){o.parent(".fancybox-slide--inline").trigger("onReset");q.$placeholder=a("<div></div>").hide().insertAfter(o);o.css("display","inline-block")}else{if(!q.hasError){if(a.type(o)==="string"){o=a("<div>").append(a.trim(o)).contents();if(o[0].nodeType===3){o=a("<div>").html(o)}}if(q.opts.filter){o=a("<div>").html(o).find(q.opts.filter)}}}q.$slide.one("onReset",function(){if(q.$placeholder){q.$placeholder.after(o.hide()).remove();q.$placeholder=null}if(q.$smallBtn){q.$smallBtn.remove();q.$smallBtn=null}if(!q.hasError){a(this).empty();q.isLoaded=false}});q.$content=a(o).appendTo(q.$slide);if(q.opts.smallBtn&&!q.$smallBtn){q.$smallBtn=a(p.translate(q,q.opts.btnTpl.smallBtn)).appendTo(q.$content)}this.afterLoad(q)},setError:function(o){o.hasError=true;o.$slide.removeClass("fancybox-slide--"+o.type);this.setContent(o,this.translate(o,o.opts.errorTpl))},showLoading:function(p){var o=this;p=p||o.current;if(p&&!p.$spinner){p.$spinner=a(o.opts.spinnerTpl).appendTo(p.$slide)}},hideLoading:function(p){var o=this;p=p||o.current;if(p&&p.$spinner){p.$spinner.remove();delete p.$spinner}},afterLoad:function(p){var o=this;if(o.isClosing){return}p.isLoading=false;p.isLoaded=true;o.trigger("afterLoad",p);o.hideLoading(p);if(p.opts.protect&&p.$content&&!p.hasError){p.$content.on("contextmenu.fb",function(q){if(q.button==2){q.preventDefault()}return true});if(p.type==="image"){a('<div class="fancybox-spaceball"></div>').appendTo(p.$content)}}o.revealContent(p)},revealContent:function(v){var u=this;var o=v.$slide;var q,r,p,t,s,w=false;q=v.opts[u.firstRun?"animationEffect":"transitionEffect"];p=v.opts[u.firstRun?"animationDuration":"transitionDuration"];p=parseInt(v.forcedDuration===m?p:v.forcedDuration,10);if(v.isMoved||v.pos!==u.currPos||!p){q=false}if(q==="zoom"&&!(v.pos===u.currPos&&p&&v.type==="image"&&!v.hasError&&(w=u.getThumbPos(v)))){q="fade"}if(q==="zoom"){s=u.getFitPos(v);s.scaleX=Math.round((s.width/w.width)*100)/100;s.scaleY=Math.round((s.height/w.height)*100)/100;delete s.width;delete s.height;t=v.opts.zoomOpacity;if(t=="auto"){t=Math.abs(v.width/v.height-w.width/w.height)>0.1}if(t){w.opacity=0.1;s.opacity=1}a.fancybox.setTranslate(v.$content.removeClass("fancybox-is-hidden"),w);i(v.$content);a.fancybox.animate(v.$content,s,p,function(){u.complete()});return}u.updateSlide(v);if(!q){i(o);v.$content.removeClass("fancybox-is-hidden");if(v.pos===u.currPos){u.complete()}return}a.fancybox.stop(o);r="fancybox-animated fancybox-slide--"+(v.pos>u.prevPos?"next":"previous")+" fancybox-fx-"+q;o.removeAttr("style").removeClass("fancybox-slide--current fancybox-slide--next fancybox-slide--previous").addClass(r);v.$content.removeClass("fancybox-is-hidden");i(o);a.fancybox.animate(o,"fancybox-slide--current",p,function(x){o.removeClass(r).removeAttr("style");if(v.pos===u.currPos){u.complete()}},true)},getThumbPos:function(s){var r=this;var q=false;var p=function(v){var w=v[0];var x=w.getBoundingClientRect();var y=[];var z;while(w.parentElement!==null){if(a(w.parentElement).css("overflow")==="hidden"||a(w.parentElement).css("overflow")==="auto"){y.push(w.parentElement.getBoundingClientRect())}w=w.parentElement}z=y.every(function(A){var B=Math.min(x.right,A.right)-Math.max(x.left,A.left);var C=Math.min(x.bottom,A.bottom)-Math.max(x.top,A.top);return B>0&&C>0});return z&&x.bottom>0&&x.right>0&&x.left<a(n).width()&&x.top<a(n).height()};var o=s.opts.$thumb;var u=o?o.offset():0;var t;if(u&&o[0].ownerDocument===g&&p(o)){t=r.$refs.stage.offset();q={top:u.top-t.top+parseFloat(o.css("border-top-width")||0),left:u.left-t.left+parseFloat(o.css("border-left-width")||0),width:o.width(),height:o.height(),scaleX:1,scaleY:1}}return q},complete:function(){var p=this;var o=p.current;var q={};if(o.isMoved||!o.isLoaded||o.isComplete){return}o.isComplete=true;o.$slide.siblings().trigger("onReset");i(o.$slide);o.$slide.addClass("fancybox-slide--complete");a.each(p.slides,function(r,s){if(s.pos>=p.currPos-1&&s.pos<=p.currPos+1){q[s.pos]=s}else{if(s){a.fancybox.stop(s.$slide);s.$slide.unbind().remove()}}});p.slides=q;p.updateCursor();p.trigger("afterShow");if(a(g.activeElement).is("[disabled]")||(o.opts.autoFocus&&!(o.type=="image"||o.type==="iframe"))){p.focus()}},preload:function(){var q=this;var o,p;if(q.group.length<2){return}o=q.slides[q.currPos+1];p=q.slides[q.currPos-1];if(o&&o.type==="image"){q.loadSlide(o)}if(p&&p.type==="image"){q.loadSlide(p)}},focus:function(){var p=this.current;var o;if(this.isClosing){return}o=p&&p.isComplete?p.$slide.find("button,:input,[tabindex],a").filter(":not([disabled]):visible:first"):null;o=o&&o.length?o:this.$refs.container;o.focus()},activate:function(){var o=this;a(".fancybox-container").each(function(){var p=a(this).data("FancyBox");if(p&&p.uid!==o.uid&&!p.isClosing){p.trigger("onDeactivate")}});if(o.current){if(o.$refs.container.index()>0){o.$refs.container.prependTo(g.body)}o.updateControls()}o.trigger("onActivate");o.addEvents()},close:function(t,q){var x=this;var p=x.current;var u,s;var o,w,y,v;var r=function(){x.cleanUp(t)};if(x.isClosing){return false}x.isClosing=true;if(x.trigger("beforeClose",t)===false){x.isClosing=false;k(function(){x.update()});return false}x.removeEvents();if(p.timouts){clearTimeout(p.timouts)}o=p.$content;u=p.opts.animationEffect;s=a.isNumeric(q)?q:(u?p.opts.animationDuration:0);p.$slide.off(l).removeClass("fancybox-slide--complete fancybox-slide--next fancybox-slide--previous fancybox-animated");p.$slide.siblings().trigger("onReset").remove();if(s){x.$refs.container.removeClass("fancybox-is-open").addClass("fancybox-is-closing")}x.hideLoading(p);x.hideControls();x.updateCursor();if(u==="zoom"&&!(t!==true&&o&&s&&p.type==="image"&&!p.hasError&&(v=x.getThumbPos(p)))){u="fade"}if(u==="zoom"){a.fancybox.stop(o);y=a.fancybox.getTranslate(o);y.width=y.width*y.scaleX;y.height=y.height*y.scaleY;w=p.opts.zoomOpacity;if(w=="auto"){w=Math.abs(p.width/p.height-v.width/v.height)>0.1}if(w){v.opacity=0}y.scaleX=y.width/v.width;y.scaleY=y.height/v.height;y.width=v.width;y.height=v.height;a.fancybox.setTranslate(p.$content,y);a.fancybox.animate(p.$content,v,s,r);return true}if(u&&s){if(t===true){setTimeout(r,s)}else{a.fancybox.animate(p.$slide.removeClass("fancybox-slide--current"),"fancybox-animated fancybox-slide--previous fancybox-fx-"+u,s,r)}}else{r()}return true},cleanUp:function(o){var q=this,p;q.current.$slide.trigger("onReset");q.$refs.container.empty().remove();q.trigger("afterClose",o);if(q.$lastFocus&&!!!q.current.focusBack){q.$lastFocus.focus()}q.current=null;p=a.fancybox.getInstance();if(p){p.activate()}else{c.scrollTop(q.scrollTop).scrollLeft(q.scrollLeft);a("html").removeClass("fancybox-enabled");a("#fancybox-style-noscroll").remove()}},trigger:function(p,t){var o=Array.prototype.slice.call(arguments,1),s=this,q=t&&t.opts?t:s.current,r;if(q){o.unshift(q)}else{q=s}o.unshift(s);if(a.isFunction(q.opts[p])){r=q.opts[p].apply(q,o)}if(r===false){return r}if(p==="afterClose"){b.trigger(p+".fb",o)}else{s.$refs.container.trigger(p+".fb",o)}},updateControls:function(r){var u=this;var q=u.current;var s=q.index;var t=q.opts;var p=t.caption;var o=u.$refs.caption;q.$slide.trigger("refresh");u.$caption=p&&p.length?o.html(p):null;if(!u.isHiddenControls){u.showControls()}a("[data-fancybox-count]").html(u.group.length);a("[data-fancybox-index]").html(s+1);a("[data-fancybox-prev]").prop("disabled",(!t.loop&&s<=0));a("[data-fancybox-next]").prop("disabled",(!t.loop&&s>=u.group.length-1))},hideControls:function(){this.isHiddenControls=true;this.$refs.container.removeClass("fancybox-show-infobar fancybox-show-toolbar fancybox-show-caption fancybox-show-nav")},showControls:function(){var q=this;var p=q.current?q.current.opts:q.opts;var o=q.$refs.container;q.isHiddenControls=false;q.idleSecondsCounter=0;o.toggleClass("fancybox-show-toolbar",!!(p.toolbar&&p.buttons)).toggleClass("fancybox-show-infobar",!!(p.infobar&&q.group.length>1)).toggleClass("fancybox-show-nav",!!(p.arrows&&q.group.length>1)).toggleClass("fancybox-is-modal",!!p.modal);if(q.$caption){o.addClass("fancybox-show-caption ")}else{o.removeClass("fancybox-show-caption")}},toggleControls:function(){if(this.isHiddenControls){this.showControls()}else{this.hideControls()}},});a.fancybox={version:"3.1.20",defaults:f,getInstance:function(p){var q=a('.fancybox-container:not(".fancybox-is-closing"):first').data("FancyBox");var o=Array.prototype.slice.call(arguments,1);if(q instanceof h){if(a.type(p)==="string"){q[p].apply(q,o)}else{if(a.type(p)==="function"){p.apply(q,o)}}return q}return false},open:function(p,q,o){return new h(p,q,o)},close:function(o){var p=this.getInstance();if(p){p.close();if(o===true){this.close()}}},destroy:function(){this.close(true);b.off("click.fb-start")},isMobile:g.createTouch!==m&&/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent),use3d:(function(){var o=g.createElement("div");return n.getComputedStyle&&n.getComputedStyle(o).getPropertyValue("transform")&&!(g.documentMode&&g.documentMode<11)}()),getTranslate:function(o){var p;if(!o||!o.length){return false}p=o.eq(0).css("transform");if(p&&p.indexOf("matrix")!==-1){p=p.split("(")[1];p=p.split(")")[0];p=p.split(",")}else{p=[]}if(p.length){if(p.length>10){p=[p[13],p[12],p[0],p[5]]}else{p=[p[5],p[4],p[0],p[3]]}p=p.map(parseFloat)}else{p=[0,0,1,1];var q=/\.*translate\((.*)px,(.*)px\)/i;var r=q.exec(o.eq(0).attr("style"));if(r){p[0]=parseFloat(r[2]);p[1]=parseFloat(r[1])}}return{top:p[0],left:p[1],scaleX:p[2],scaleY:p[3],opacity:parseFloat(o.css("opacity")),width:o.width(),height:o.height()}},setTranslate:function(o,q){var r="";var p={};if(!o||!q){return}if(q.left!==m||q.top!==m){r=(q.left===m?o.position().left:q.left)+"px, "+(q.top===m?o.position().top:q.top)+"px";if(this.use3d){r="translate3d("+r+", 0px)"}else{r="translate("+r+")"}}if(q.scaleX!==m&&q.scaleY!==m){r=(r.length?r+" ":"")+"scale("+q.scaleX+", "+q.scaleY+")"}if(r.length){p.transform=r}if(q.opacity!==m){p.opacity=q.opacity}if(q.width!==m){p.width=q.width}if(q.height!==m){p.height=q.height}return o.css(p)},animate:function(o,t,q,p,s){var r=l||"transitionend";if(a.isFunction(q)){p=q;q=null}if(!a.isPlainObject(t)){o.removeAttr("style")}o.on(r,function(u){if(u&&u.originalEvent&&(!o.is(u.originalEvent.target)||u.originalEvent.propertyName=="z-index")){return}o.off(r);if(a.isPlainObject(t)){if(t.scaleX!==m&&t.scaleY!==m){o.css("transition-duration","0ms");t.width=o.width()*t.scaleX;t.height=o.height()*t.scaleY;t.scaleX=1;t.scaleY=1;a.fancybox.setTranslate(o,t)}}else{if(s!==true){o.removeClass(t)}}if(a.isFunction(p)){p(u)}});if(a.isNumeric(q)){o.css("transition-duration",q+"ms")}if(a.isPlainObject(t)){a.fancybox.setTranslate(o,t)}else{o.addClass(t)}o.data("timer",setTimeout(function(){o.trigger("transitionend")},q+16))},stop:function(o){clearTimeout(o.data("timer"));o.off(l)}};function d(o){var s=o.currentTarget,r=o.data?o.data.options:{},q=o.data?o.data.items:[],t=a(s).attr("data-fancybox")||"",p=0;o.preventDefault();o.stopPropagation();if(t){q=q.length?q.filter('[data-fancybox="'+t+'"]'):a('[data-fancybox="'+t+'"]');p=q.index(s);if(p<0){p=0}}else{q=[s]}a.fancybox.open(q,r,p)}a.fn.fancybox=function(o){var p;o=o||{};p=o.selector||false;if(p){a("body").off("click.fb-start",p).on("click.fb-start",p,{items:a(p),options:o},d)}else{this.off("click.fb-start").on("click.fb-start",{items:this,options:o},d)}return this};b.on("click.fb-start","[data-fancybox]",d)}(window,document,window.jQuery));(function(a){var c=function(f,e,d){if(!f){return}d=d||"";if(a.type(d)==="object"){d=a.param(d,true)}a.each(e,function(g,h){f=f.replace("$"+g,h||"")});if(d.length){f+=(f.indexOf("?")>0?"&":"?")+d}return f};var b={youtube:{matcher:/(youtube\.com|youtu\.be|youtube\-nocookie\.com)\/(watch\?(.*&)?v=|v\/|u\/|embed\/?)?(videoseries\?list=(.*)|[\w-]{11}|\?listType=(.*)&list=(.*))(.*)/i,params:{autoplay:1,autohide:1,fs:1,rel:0,hd:1,wmode:"transparent",enablejsapi:1,html5:1},paramPlace:8,type:"iframe",url:"//www.youtube.com/embed/$4",thumb:"//img.youtube.com/vi/$4/hqdefault.jpg"},vimeo:{matcher:/^.+vimeo.com\/(.*\/)?([\d]+)(.*)?/,params:{autoplay:1,hd:1,show_title:1,show_byline:1,show_portrait:0,fullscreen:1,api:1},paramPlace:3,type:"iframe",url:"//player.vimeo.com/video/$2"},metacafe:{matcher:/metacafe.com\/watch\/(\d+)\/(.*)?/,type:"iframe",url:"//www.metacafe.com/embed/$1/?ap=1"},dailymotion:{matcher:/dailymotion.com\/video\/(.*)\/?(.*)/,params:{additionalInfos:0,autoStart:1},type:"iframe",url:"//www.dailymotion.com/embed/video/$1"},vine:{matcher:/vine.co\/v\/([a-zA-Z0-9\?\=\-]+)/,type:"iframe",url:"//vine.co/v/$1/embed/simple"},instagram:{matcher:/(instagr\.am|instagram\.com)\/p\/([a-zA-Z0-9_\-]+)\/?/i,type:"image",url:"//$1/p/$2/media/?size=l"},google_maps:{matcher:/(maps\.)?google\.([a-z]{2,3}(\.[a-z]{2})?)\/(((maps\/(place\/(.*)\/)?\@(.*),(\d+.?\d+?)z))|(\?ll=))(.*)?/i,type:"iframe",url:function(d){return"//maps.google."+d[2]+"/?ll="+(d[9]?d[9]+"&z="+Math.floor(d[10])+(d[12]?d[12].replace(/^\//,"&"):""):d[12])+"&output="+(d[12]&&d[12].indexOf("layer=c")>0?"svembed":"embed")}}};a(document).on("onInit.fb",function(d,f){a.each(f.group,function(e,g){var q=g.src||"",p=false,h,n,m,k,r,j,l;if(g.type){return}h=a.extend(true,{},b,g.opts.media);a.each(h,function(s,i){m=q.match(i.matcher);j={};l=s;if(!m){return}p=i.type;if(i.paramPlace&&m[i.paramPlace]){r=m[i.paramPlace];if(r[0]=="?"){r=r.substring(1)}r=r.split("&");for(var o=0;o<r.length;++o){var t=r[o].split("=",2);if(t.length==2){j[t[0]]=decodeURIComponent(t[1].replace(/\+/g," "))}}}k=a.extend(true,{},i.params,g.opts[s],j);q=a.type(i.url)==="function"?i.url.call(this,m,k,g):c(i.url,m,k);n=a.type(i.thumb)==="function"?i.thumb.call(this,m,k,g):c(i.thumb,m);if(l==="vimeo"){q=q.replace("&%23","#")}return false});if(p){g.src=q;g.type=p;if(!g.opts.thumb&&!(g.opts.$thumb&&g.opts.$thumb.length)){g.opts.thumb=n}if(p==="iframe"){a.extend(true,g.opts,{iframe:{preload:false,attr:{scrolling:"no"}}});g.contentProvider=l;g.opts.slideClass+=" fancybox-slide--"+(l=="google_maps"?"map":"video")}}else{g.type="image"}})})}(window.jQuery));(function(k,d,a){var j=(function(){return k.requestAnimationFrame||k.webkitRequestAnimationFrame||k.mozRequestAnimationFrame||k.oRequestAnimationFrame||function(l){return k.setTimeout(l,1000/60)}})();var b=(function(){return k.cancelAnimationFrame||k.webkitCancelAnimationFrame||k.mozCancelAnimationFrame||k.oCancelAnimationFrame||function(l){k.clearTimeout(l)}})();var i=function(l){var n=[];l=l.originalEvent||l||k.e;l=l.touches&&l.touches.length?l.touches:(l.changedTouches&&l.changedTouches.length?l.changedTouches:[l]);for(var m in l){if(l[m].pageX){n.push({x:l[m].pageX,y:l[m].pageY})}else{if(l[m].clientX){n.push({x:l[m].clientX,y:l[m].clientY})}}}return n};var c=function(m,l,n){if(!l||!m){return 0}if(n==="x"){return m.x-l.x}else{if(n==="y"){return m.y-l.y}}return Math.sqrt(Math.pow(m.x-l.x,2)+Math.pow(m.y-l.y,2))};var g=function(l){if(l.is("a,button,input,select,textarea")||a.isFunction(l.get(0).onclick)){return true}for(var o=0,m=l[0].attributes,p=m.length;o<p;o++){if(m[o].nodeName.substr(0,14)==="data-fancybox-"){return true}}return false};var f=function(l){var o=k.getComputedStyle(l)["overflow-y"];var n=k.getComputedStyle(l)["overflow-x"];var p=(o==="scroll"||o==="auto")&&l.scrollHeight>l.clientHeight;var m=(n==="scroll"||n==="auto")&&l.scrollWidth>l.clientWidth;return p||m};var h=function(l){var m=false;while(true){m=f(l.get(0));if(m){break}l=l.parent();if(!l.length||l.hasClass("fancybox-stage")||l.is("body")){break}}return m};var e=function(l){var m=this;m.instance=l;m.$bg=l.$refs.bg;m.$stage=l.$refs.stage;m.$container=l.$refs.container;m.destroy();m.$container.on("touchstart.fb.touch mousedown.fb.touch",a.proxy(m,"ontouchstart"))};e.prototype.destroy=function(){this.$container.off(".fb.touch")};e.prototype.ontouchstart=function(o){var r=this;var m=a(o.target);var p=r.instance;var n=p.current;var l=n.$content;var q=(o.type=="touchstart");if(q){r.$container.off("mousedown.fb.touch")}if(!n||r.instance.isAnimating||r.instance.isClosing){o.stopPropagation();o.preventDefault();return}if(o.originalEvent&&o.originalEvent.button==2){return}if(!m.length||g(m)||g(m.parent())){return}if(o.originalEvent.clientX>m[0].clientWidth+m.offset().left){return}r.startPoints=i(o);if(!r.startPoints||(r.startPoints.length>1&&p.isSliding)){return}r.$target=m;r.$content=l;r.canTap=true;a(d).off(".fb.touch");a(d).on(q?"touchend.fb.touch touchcancel.fb.touch":"mouseup.fb.touch mouseleave.fb.touch",a.proxy(r,"ontouchend"));a(d).on(q?"touchmove.fb.touch":"mousemove.fb.touch",a.proxy(r,"ontouchmove"));o.stopPropagation();if(!(p.current.opts.touch||p.canPan())||!(m.is(r.$stage)||r.$stage.find(m).length)){if(m.is("img")){o.preventDefault()}return}if(!(a.fancybox.isMobile&&(h(r.$target)||h(r.$target.parent())))){o.preventDefault()}r.canvasWidth=Math.round(n.$slide[0].clientWidth);r.canvasHeight=Math.round(n.$slide[0].clientHeight);r.startTime=new Date().getTime();r.distanceX=r.distanceY=r.distance=0;r.isPanning=false;r.isSwiping=false;r.isZooming=false;r.sliderStartPos=r.sliderLastPos||{top:0,left:0};r.contentStartPos=a.fancybox.getTranslate(r.$content);r.contentLastPos=null;if(r.startPoints.length===1&&!r.isZooming){r.canTap=!p.isSliding;if(n.type==="image"&&(r.contentStartPos.width>r.canvasWidth+1||r.contentStartPos.height>r.canvasHeight+1)){a.fancybox.stop(r.$content);r.$content.css("transition-duration","0ms");r.isPanning=true}else{r.isSwiping=true}r.$container.addClass("fancybox-controls--isGrabbing")}if(r.startPoints.length===2&&!p.isAnimating&&!n.hasError&&n.type==="image"&&(n.isLoaded||n.$ghost)){r.isZooming=true;r.isSwiping=false;r.isPanning=false;a.fancybox.stop(r.$content);r.$content.css("transition-duration","0ms");r.centerPointStartX=((r.startPoints[0].x+r.startPoints[1].x)*0.5)-a(k).scrollLeft();r.centerPointStartY=((r.startPoints[0].y+r.startPoints[1].y)*0.5)-a(k).scrollTop();r.percentageOfImageAtPinchPointX=(r.centerPointStartX-r.contentStartPos.left)/r.contentStartPos.width;r.percentageOfImageAtPinchPointY=(r.centerPointStartY-r.contentStartPos.top)/r.contentStartPos.height;r.startDistanceBetweenFingers=c(r.startPoints[0],r.startPoints[1])}};e.prototype.ontouchmove=function(l){var m=this;m.newPoints=i(l);if(a.fancybox.isMobile&&(h(m.$target)||h(m.$target.parent()))){l.stopPropagation();m.canTap=false;return}if(!(m.instance.current.opts.touch||m.instance.canPan())||!m.newPoints||!m.newPoints.length){return}m.distanceX=c(m.newPoints[0],m.startPoints[0],"x");m.distanceY=c(m.newPoints[0],m.startPoints[0],"y");m.distance=c(m.newPoints[0],m.startPoints[0]);if(m.distance>0){if(!(m.$target.is(m.$stage)||m.$stage.find(m.$target).length)){return}l.stopPropagation();l.preventDefault();if(m.isSwiping){m.onSwipe()}else{if(m.isPanning){m.onPan()}else{if(m.isZooming){m.onZoom()}}}}};e.prototype.onSwipe=function(){var n=this;var o=n.isSwiping;var m=n.sliderStartPos.left||0;var l;if(o===true){if(Math.abs(n.distance)>10){n.canTap=false;if(n.instance.group.length<2&&n.instance.opts.touch.vertical){n.isSwiping="y"}else{if(n.instance.isSliding||n.instance.opts.touch.vertical===false||(n.instance.opts.touch.vertical==="auto"&&a(k).width()>800)){n.isSwiping="x"}else{l=Math.abs(Math.atan2(n.distanceY,n.distanceX)*180/Math.PI);n.isSwiping=(l>45&&l<135)?"y":"x"}}n.instance.isSliding=n.isSwiping;n.startPoints=n.newPoints;a.each(n.instance.slides,function(p,q){a.fancybox.stop(q.$slide);q.$slide.css("transition-duration","0ms");q.inTransition=false;if(q.pos===n.instance.current.pos){n.sliderStartPos.left=a.fancybox.getTranslate(q.$slide).left}});if(n.instance.SlideShow&&n.instance.SlideShow.isActive){n.instance.SlideShow.stop()}}}else{if(o=="x"){if(n.distanceX>0&&(n.instance.group.length<2||(n.instance.current.index===0&&!n.instance.current.opts.loop))){m=m+Math.pow(n.distanceX,0.8)}else{if(n.distanceX<0&&(n.instance.group.length<2||(n.instance.current.index===n.instance.group.length-1&&!n.instance.current.opts.loop))){m=m-Math.pow(-n.distanceX,0.8)}else{m=m+n.distanceX}}}n.sliderLastPos={top:o=="x"?0:n.sliderStartPos.top+n.distanceY,left:m};if(n.requestId){b(n.requestId);n.requestId=null}n.requestId=j(function(){if(n.sliderLastPos){a.each(n.instance.slides,function(p,r){var q=r.pos-n.instance.currPos;a.fancybox.setTranslate(r.$slide,{top:n.sliderLastPos.top,left:n.sliderLastPos.left+(q*n.canvasWidth)+(q*r.opts.gutter)})});n.$container.addClass("fancybox-is-sliding")}})}};e.prototype.onPan=function(){var o=this;var l,m,n;o.canTap=false;if(o.contentStartPos.width>o.canvasWidth){l=o.contentStartPos.left+o.distanceX}else{l=o.contentStartPos.left}m=o.contentStartPos.top+o.distanceY;n=o.limitMovement(l,m,o.contentStartPos.width,o.contentStartPos.height);n.scaleX=o.contentStartPos.scaleX;n.scaleY=o.contentStartPos.scaleY;o.contentLastPos=n;if(o.requestId){b(o.requestId);o.requestId=null}o.requestId=j(function(){a.fancybox.setTranslate(o.$content,o.contentLastPos)})};e.prototype.limitMovement=function(w,x,y,v){var z=this;var t,u,r,s;var m=z.canvasWidth;var l=z.canvasHeight;var n=z.contentStartPos.left;var o=z.contentStartPos.top;var p=z.distanceX;var q=z.distanceY;t=Math.max(0,m*0.5-y*0.5);u=Math.max(0,l*0.5-v*0.5);r=Math.min(m-y,m*0.5-y*0.5);s=Math.min(l-v,l*0.5-v*0.5);if(y>m){if(p>0&&w>t){w=t-1+Math.pow(-t+n+p,0.8)||0}if(p<0&&w<r){w=r+1-Math.pow(r-n-p,0.8)||0}}if(v>l){if(q>0&&x>u){x=u-1+Math.pow(-u+o+q,0.8)||0}if(q<0&&x<s){x=s+1-Math.pow(s-o-q,0.8)||0}}return{top:x,left:w}};e.prototype.limitPosition=function(o,p,q,n){var r=this;var m=r.canvasWidth;var l=r.canvasHeight;if(q>m){o=o>0?0:o;o=o<m-q?m-q:o}else{o=Math.max(0,m/2-q/2)}if(n>l){p=p>0?0:p;p=p<l-n?l-n:p}else{p=Math.max(0,l/2-n/2)}return{top:p,left:o}};e.prototype.onZoom=function(){var y=this;var q=y.contentStartPos.width;var n=y.contentStartPos.height;var o=y.contentStartPos.left;var p=y.contentStartPos.top;var r=c(y.newPoints[0],y.newPoints[1]);var x=r/y.startDistanceBetweenFingers;var w=Math.floor(q*x);var s=Math.floor(n*x);var B=(q-w)*y.percentageOfImageAtPinchPointX;var C=(n-s)*y.percentageOfImageAtPinchPointY;var l=((y.newPoints[0].x+y.newPoints[1].x)/2)-a(k).scrollLeft();var m=((y.newPoints[0].y+y.newPoints[1].y)/2)-a(k).scrollTop();var z=l-y.centerPointStartX;var A=m-y.centerPointStartY;var t=o+(B+z);var u=p+(C+A);var v={top:u,left:t,scaleX:y.contentStartPos.scaleX*x,scaleY:y.contentStartPos.scaleY*x};y.canTap=false;y.newWidth=w;y.newHeight=s;y.contentLastPos=v;if(y.requestId){b(y.requestId);y.requestId=null}y.requestId=j(function(){a.fancybox.setTranslate(y.$content,y.contentLastPos)})};e.prototype.ontouchend=function(m){var o=this;var l=Math.max((new Date().getTime())-o.startTime,1);var p=o.isSwiping;var n=o.isPanning;var q=o.isZooming;o.endPoints=i(m);o.$container.removeClass("fancybox-controls--isGrabbing");a(d).off(".fb.touch");if(o.requestId){b(o.requestId);o.requestId=null}o.isSwiping=false;o.isPanning=false;o.isZooming=false;if(o.canTap){return o.onTap(m)}o.speed=366;o.velocityX=o.distanceX/l*0.5;o.velocityY=o.distanceY/l*0.5;o.speedX=Math.max(o.speed*0.5,Math.min(o.speed*1.5,(1/Math.abs(o.velocityX))*o.speed));if(n){o.endPanning()}else{if(q){o.endZooming()}else{o.endSwiping(p)}}return};e.prototype.endSwiping=function(n){var m=this;var l=false;m.instance.isSliding=false;m.sliderLastPos=null;if(n=="y"&&Math.abs(m.distanceY)>50){a.fancybox.animate(m.instance.current.$slide,{top:m.sliderStartPos.top+m.distanceY+(m.velocityY*150),opacity:0},150);l=m.instance.close(true,300)}else{if(n=="x"&&m.distanceX>50&&m.instance.group.length>1){l=m.instance.previous(m.speedX)}else{if(n=="x"&&m.distanceX<-50&&m.instance.group.length>1){l=m.instance.next(m.speedX)}}}if(l===false&&(n=="x"||n=="y")){m.instance.jumpTo(m.instance.current.index,150)}m.$container.removeClass("fancybox-is-sliding")};e.prototype.endPanning=function(){var o=this;var l,m,n;if(!o.contentLastPos){return}if(o.instance.current.opts.touch.momentum===false){l=o.contentLastPos.left;m=o.contentLastPos.top}else{l=o.contentLastPos.left+(o.velocityX*o.speed);m=o.contentLastPos.top+(o.velocityY*o.speed)}n=o.limitPosition(l,m,o.contentStartPos.width,o.contentStartPos.height);n.width=o.contentStartPos.width;n.height=o.contentStartPos.height;a.fancybox.animate(o.$content,n,330)};e.prototype.endZooming=function(){var s=this;var l=s.instance.current;var n,o,p,r;var q=s.newWidth;var m=s.newHeight;if(!s.contentLastPos){return}n=s.contentLastPos.left;o=s.contentLastPos.top;r={top:o,left:n,width:q,height:m,scaleX:1,scaleY:1};a.fancybox.setTranslate(s.$content,r);if(q<s.canvasWidth&&m<s.canvasHeight){s.instance.scaleToFit(150)}else{if(q>l.width||m>l.height){s.instance.scaleToActual(s.centerPointStartX,s.centerPointStartY,150)}else{p=s.limitPosition(n,o,q,m);a.fancybox.setTranslate(s.content,a.fancybox.getTranslate(s.$content));a.fancybox.animate(s.$content,p,150)}}};e.prototype.onTap=function(n){var r=this;var l=a(n.target);var p=r.instance;var m=p.current;var o=(n&&i(n))||r.startPoints;var s=o[0]?o[0].x-r.$stage.offset().left:0;var t=o[0]?o[0].y-r.$stage.offset().top:0;var u;var q=function(w){var v=m.opts[w];if(a.isFunction(v)){v=v.apply(p,[m,n])}if(!v){return}switch(v){case"close":p.close(r.startEvent);break;case"toggleControls":p.toggleControls(true);break;case"next":p.next();break;case"nextOrClose":if(p.group.length>1){p.next()}else{p.close(r.startEvent)}break;case"zoom":if(m.type=="image"&&(m.isLoaded||m.$ghost)){if(p.canPan()){p.scaleToFit()}else{if(p.isScaledDown()){p.scaleToActual(s,t)}else{if(p.group.length<2){p.close(r.startEvent)}}}}break}};if(n.originalEvent&&n.originalEvent.button==2){return}if(p.isSliding){return}if(s>l[0].clientWidth+l.offset().left){return}if(l.is(".fancybox-bg,.fancybox-inner,.fancybox-outer,.fancybox-container")){u="Outside"}else{if(l.is(".fancybox-slide")){u="Slide"}else{if(p.current.$content&&p.current.$content.has(n.target).length){u="Content"}else{return}}}if(r.tapped){clearTimeout(r.tapped);r.tapped=null;if(Math.abs(s-r.tapX)>50||Math.abs(t-r.tapY)>50||p.isSliding){return this}q("dblclick"+u)}else{r.tapX=s;r.tapY=t;if(m.opts["dblclick"+u]&&m.opts["dblclick"+u]!==m.opts["click"+u]){r.tapped=setTimeout(function(){r.tapped=null;q("click"+u)},300)}else{q("click"+u)}}return this};a(d).on("onActivate.fb",function(l,m){if(m&&!m.Guestures){m.Guestures=new e(m)}});a(d).on("beforeClose.fb",function(l,m){if(m&&m.Guestures){m.Guestures.destroy()}})}(window,document,window.jQuery));(function(b,a){var c=function(d){this.instance=d;this.init()};a.extend(c.prototype,{timer:null,isActive:false,$button:null,speed:3000,init:function(){var d=this;d.$button=d.instance.$refs.toolbar.find("[data-fancybox-play]").on("click",function(){d.toggle()});if(d.instance.group.length<2||!d.instance.group[d.instance.currIndex].opts.slideShow){d.$button.hide()}},set:function(){var d=this;if(d.instance&&d.instance.current&&(d.instance.current.opts.loop||d.instance.currIndex<d.instance.group.length-1)){d.timer=setTimeout(function(){d.instance.next()},d.instance.current.opts.slideShow.speed||d.speed)}else{d.stop();d.instance.idleSecondsCounter=0;d.instance.showControls()}},clear:function(){var d=this;clearTimeout(d.timer);d.timer=null},start:function(){var e=this;var d=e.instance.current;if(e.instance&&d&&(d.opts.loop||d.index<e.instance.group.length-1)){e.isActive=true;e.$button.attr("title",d.opts.i18n[d.opts.lang].PLAY_STOP).addClass("fancybox-button--pause");if(d.isComplete){e.set()}}},stop:function(){var e=this;var d=e.instance.current;e.clear();e.$button.attr("title",d.opts.i18n[d.opts.lang].PLAY_START).removeClass("fancybox-button--pause");e.isActive=false},toggle:function(){var d=this;if(d.isActive){d.stop()}else{d.start()}}});a(b).on({"onInit.fb":function(d,f){if(f&&!f.SlideShow){f.SlideShow=new c(f)}},"beforeShow.fb":function(f,h,d,g){var i=h&&h.SlideShow;if(g){if(i&&d.opts.slideShow.autoStart){i.start()}}else{if(i&&i.isActive){i.clear()}}},"afterShow.fb":function(f,g,d){var h=g&&g.SlideShow;if(h&&h.isActive){h.set()}},"afterKeydown.fb":function(f,g,d,i,h){var j=g&&g.SlideShow;if(j&&d.opts.slideShow&&(h===80||h===32)&&!a(b.activeElement).is("button,a,input")){i.preventDefault();j.toggle()}},"beforeClose.fb onDeactivate.fb":function(d,f){var g=f&&f.SlideShow;if(g){g.stop()}}});a(b).on("visibilitychange",function(){var d=a.fancybox.getInstance();var e=d&&d.SlideShow;if(e&&e.isActive){if(b.hidden){e.clear()}else{e.set()}}})}(document,window.jQuery));(function(b,a){var c=(function(){var e=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]];var k;var h={};var f,g;for(f=0;f<e.length;f++){k=e[f];if(k&&k[1] in b){for(g=0;g<k.length;g++){h[e[0][g]]=k[g]}return h}}return false})();if(!c){a.fancybox.defaults.btnTpl.fullScreen=false;return}var d={request:function(e){e=e||b.documentElement;e[c.requestFullscreen](e.ALLOW_KEYBOARD_INPUT)},exit:function(){b[c.exitFullscreen]()},toggle:function(e){e=e||b.documentElement;if(this.isFullscreen()){this.exit()}else{this.request(e)}},isFullscreen:function(){return Boolean(b[c.fullscreenElement])},enabled:function(){return Boolean(b[c.fullscreenEnabled])}};a(b).on({"onInit.fb":function(h,i){var g;var f=i.$refs.toolbar.find("[data-fancybox-fullscreen]");if(i&&!i.FullScreen&&i.group[i.currIndex].opts.fullScreen){g=i.$refs.container;g.on("click.fb-fullscreen","[data-fancybox-fullscreen]",function(j){j.stopPropagation();j.preventDefault();d.toggle(g[0])});if(i.opts.fullScreen&&i.opts.fullScreen.autoStart===true){d.request(g[0])}i.FullScreen=d}else{f.hide()}},"afterKeydown.fb":function(g,h,f,j,i){if(h&&h.FullScreen&&i===70){j.preventDefault();h.FullScreen.toggle(h.$refs.container[0])}},"beforeClose.fb":function(e){if(e&&e.FullScreen){d.exit()}}});a(b).on(c.fullscreenchange,function(){var e=a.fancybox.getInstance();if(e.current&&e.current.type==="image"&&e.isAnimating){e.current.$content.css("transition","none");e.isAnimating=false;e.update(true,true,0)}})}(document,window.jQuery));(function(b,a){var c=function(d){this.instance=d;this.init()};a.extend(c.prototype,{$button:null,$grid:null,$list:null,isVisible:false,init:function(){var f=this;var d=f.instance.group[0],e=f.instance.group[1];f.$button=f.instance.$refs.toolbar.find("[data-fancybox-thumbs]");if(f.instance.group.length>1&&f.instance.group[f.instance.currIndex].opts.thumbs&&((d.type=="image"||d.opts.thumb||d.opts.$thumb)&&(e.type=="image"||e.opts.thumb||e.opts.$thumb))){f.$button.on("click",function(){f.toggle()});f.isActive=true}else{f.$button.hide();f.isActive=false}},create:function(){var d=this.instance,e,f;this.$grid=a('<div class="fancybox-thumbs"></div>').appendTo(d.$refs.container);e="<ul>";a.each(d.group,function(g,h){f=h.opts.thumb||(h.opts.$thumb?h.opts.$thumb.attr("src"):null);if(!f&&h.type==="image"){f=h.src}if(f&&f.length){e+='<li data-index="'+g+'"  tabindex="0" class="fancybox-thumbs-loading"><img data-src="'+f+'" /></li>'}});e+="</ul>";this.$list=a(e).appendTo(this.$grid).on("click","li",function(){d.jumpTo(a(this).data("index"))});this.$list.find("img").hide().one("load",function(){var g=a(this).parent().removeClass("fancybox-thumbs-loading"),k=g.outerWidth(),j=g.outerHeight(),l,h,m,i;l=this.naturalWidth||this.width;h=this.naturalHeight||this.height;m=l/k;i=h/j;if(m>=1&&i>=1){if(m>i){l=l/i;h=j}else{l=k;h=h/m}}a(this).css({width:Math.floor(l),height:Math.floor(h),"margin-top":Math.min(0,Math.floor(j*0.3-h*0.3)),"margin-left":Math.min(0,Math.floor(k*0.5-l*0.5))}).show()}).each(function(){this.src=a(this).data("src")})},focus:function(){if(this.instance.current){this.$list.children().removeClass("fancybox-thumbs-active").filter('[data-index="'+this.instance.current.index+'"]').addClass("fancybox-thumbs-active").focus()}},close:function(){this.$grid.hide()},update:function(){this.instance.$refs.container.toggleClass("fancybox-show-thumbs",this.isVisible);if(this.isVisible){if(!this.$grid){this.create()}this.instance.trigger("onThumbsShow");this.focus()}else{if(this.$grid){this.instance.trigger("onThumbsHide")}}this.instance.update()},hide:function(){this.isVisible=false;this.update()},show:function(){this.isVisible=true;this.update()},toggle:function(){this.isVisible=!this.isVisible;this.update()}});a(b).on({"onInit.fb":function(d,f){if(f&&!f.Thumbs){f.Thumbs=new c(f)}},"beforeShow.fb":function(d,g,h,f){var i=g&&g.Thumbs;if(!i||!i.isActive){return}if(h.modal){i.$button.hide();i.hide();return}if(f&&g.opts.thumbs.autoStart===true){i.show()}if(i.isVisible){i.focus()}},"afterKeydown.fb":function(f,g,d,i,h){var j=g&&g.Thumbs;if(j&&j.isActive&&h===71){i.preventDefault();j.toggle()}},"beforeClose.fb":function(d,f){var g=f&&f.Thumbs;if(g&&g.isVisible&&f.opts.thumbs.hideOnClose!==false){g.close()}}})}(document,window.jQuery));(function(c,h,a){if(!a.escapeSelector){a.escapeSelector=function(k){var j=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;var i=function(m,l){if(l){if(m==="\0"){return"\uFFFD"}return m.slice(0,-1)+"\\"+m.charCodeAt(m.length-1).toString(16)+" "}return"\\"+m};return(k+"").replace(j,i)}}var b=null;var f=null;function e(){var j=h.location.hash.substr(1);var l=j.split("-");var k=l.length>1&&/^\+?\d+$/.test(l[l.length-1])?parseInt(l.pop(-1),10)||1:1;var i=l.join("-");if(k<1){k=1}return{hash:j,index:k,gallery:i}}function g(j){var i;if(j.gallery!==""){i=a("[data-fancybox='"+a.escapeSelector(j.gallery)+"']").eq(j.index-1);if(i.length){i.trigger("click")}else{a("#"+a.escapeSelector(j.gallery)+"").trigger("click")}}}function d(i){var j;if(!i){return false}j=i.current?i.current.opts:i.opts;return j.$orig?j.$orig.data("fancybox"):(j.hash||"")}a(function(){setTimeout(function(){if(a.fancybox.defaults.hash===false){return}a(c).on({"onInit.fb":function(i,k){var l,j;if(k.group[k.currIndex].opts.hash===false){return}l=e();j=d(k);if(j&&l.gallery&&j==l.gallery){k.currIndex=l.index-1}},"beforeShow.fb":function(j,m,i,k){var l;if(i.opts.hash===false){return}l=d(m);if(l&&l!==""){if(h.location.hash.indexOf(l)<0){m.opts.origHash=h.location.hash}b=l+(m.group.length>1?"-"+(i.index+1):"");if("replaceState" in h.history){if(f){clearTimeout(f)}f=setTimeout(function(){h.history[k?"pushState":"replaceState"]({},c.title,h.location.pathname+h.location.search+"#"+b);f=null},300)}else{h.location.hash=b}}},"beforeClose.fb":function(j,l,i){var k,m;if(f){clearTimeout(f)}if(i.opts.hash===false){return}k=d(l);m=l&&l.opts.origHash?l.opts.origHash:"";if(k&&k!==""){if("replaceState" in history){h.history.replaceState({},c.title,h.location.pathname+h.location.search+m)}else{h.location.hash=m;a(h).scrollTop(l.scrollTop).scrollLeft(l.scrollLeft)}}b=null}});a(h).on("hashchange.fb",function(){var i=e();if(a.fancybox.getInstance()){if(b&&b!==i.gallery+"-"+i.index&&!(i.index===1&&b==i.gallery)){b=null;a.fancybox.close()}}else{if(i.gallery!==""){g(i)}}});a(h).one("unload.fb popstate.fb",function(){a.fancybox.getInstance("close",true,0)});g(e())},50)})}(document,window,window.jQuery));